import cv2import numpy as npimport matplotlib.pyplot as plt# 读取图像并转换为灰度图像image_path = 'cropped_image_ykw.jpg'image = cv2.imread(image_path, cv2.IMREAD_GRAYSCALE)# 反转图像颜色（假设心电图是黑色背景白色波形）image = cv2.bitwise_not(image)# 二值化图像_, binary_image = cv2.threshold(image, 127, 255, cv2.THRESH_BINARY)# 初始化数组来存储波形点height, width = binary_image.shaper1 = np.zeros(width, dtype=int)# 遍历每一列，找到波形的最亮点for col in range(width):    column_data = binary_image[:, col]    max_index = np.argmax(column_data)  # 找到最亮点的行号    r1[col] = max_index# 打印数组的一部分以确认print(r1[:100])np.savetxt('CVed.txt', r1, fmt='%s')lst = 0for i in range(len(r1)):    if(lst ==0):        if(r1[i]!=0 and i-lst>1):           lst=i    elif(r1[i]!=0):        print(i,r1[i],lst,r1[lst],i-lst)        break# 绘制波形plt.plot(r1)plt.title("ECG Waveform")plt.xlabel("Time (pixel index)")plt.ylabel("Amplitude (pixel row)")plt.gca().invert_yaxis()  # 反转Y轴，使得上方的像素值较小plt.show()